version: 2

sources:
  - name: sales
    database: DR_STAGE
    schema: PUBLIC
    tables:
      - name: ORDERS

    
models:
  - name: VW_ORDERS
    description: "Main Orders table raw"
    config:
      materialized: 'table'
    columns:
      - name: ORDER_ID
        description: "Composite Key"
        tests:
          #  - unique
          - not_null

  - name: dim_customer
    description: "RI Check on dim_customer"
    config:
      materialized: 'view'
    columns:
      - name: CUSTOMER_ID
        description: "Primary Key"
        tests:
          - unique
          - not_null
